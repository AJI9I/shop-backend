# Формат данных для обновления записей MinerDetail

## Удобный формат для обновления

Для удобства массового обновления записей MinerDetail, данные должны быть представлены в формате **JSON массива**, где каждый элемент соответствует одной записи в таблице `miner_details`.

## Структура JSON файла

```json
[
  {
    "id": 1,
    "standardName": "Antminer S19j PRO",
    "manufacturer": "Bitmain",
    "series": "S19j",
    "hashrate": "104 TH/s",
    "algorithm": "SHA-256",
    "powerConsumption": "3054W",
    "coins": "BTC, BCH, BSV",
    "powerSource": "Интегрированный",
    "cooling": "Воздушное",
    "operatingTemperature": "от 0 до 40°C",
    "dimensions": "370 x 195.5 x 290 мм",
    "noiseLevel": "75 дБ",
    "description": "Полное описание устройства...",
    "features": "Ключевые особенности...",
    "placementInfo": "Рекомендации по размещению...",
    "producerInfo": "Информация о производителе..."
  }
]
```

## Описание полей и их ограничения

### 1. id (Long, обязательное)
- **Тип**: Число (Long)
- **Описание**: ID записи в таблице `miner_details`
- **Пример**: `1`, `8`, `46`
- **Ограничения**: Должен существовать в базе данных

### 2. standardName (String, до 200 символов, обязательное)
- **Тип**: Строка (VARCHAR(200))
- **Описание**: Стандартизированное название майнера
- **Пример**: `"Antminer S19j PRO"`, `"Whatsminer M30S++"`
- **Ограничения**: Максимум 200 символов, не может быть NULL
- **Формат**: Произвольная строка с названием модели

### 3. manufacturer (String, до 100 символов, опциональное)
- **Тип**: Строка (VARCHAR(100))
- **Описание**: Производитель майнера
- **Пример**: `"Bitmain"`, `"MicroBT"`, `"Canaan"`, `"Goldshell"`
- **Ограничения**: Максимум 100 символов, может быть NULL
- **Формат**: Название компании-производителя

### 4. series (String, до 100 символов, опциональное)
- **Тип**: Строка (VARCHAR(100))
- **Описание**: Серия майнера
- **Пример**: `"S19j"`, `"L7"`, `"M30S"`, `"Z15"`
- **Ограничения**: Максимум 100 символов, может быть NULL
- **Формат**: Название серии без полного названия модели

### 5. hashrate (String, до 50 символов, опциональное)
- **Тип**: Строка (VARCHAR(50))
- **Описание**: Хэшрейт устройства
- **Пример**: `"104 TH/s"`, `"840 kSol/s"`, `"9500 MH/s"`
- **Ограничения**: Максимум 50 символов, может быть NULL
- **Формат**: `"[число] [единица]/s"`
- **Единицы измерения**:
  - SHA-256: `TH/s` (терахеш), `EH/s` (эксахеш)
  - Scrypt: `MH/s` (мегахеш), `GH/s` (гигахеш)
  - Equihash: `kSol/s` (килосолюций), `MSol/s` (мегасолюций)
  - X11/X13: `MH/s`, `GH/s`

### 6. algorithm (String, до 50 символов, опциональное)
- **Тип**: Строка (VARCHAR(50))
- **Описание**: Алгоритм майнинга
- **Пример**: `"SHA-256"`, `"Scrypt"`, `"Equihash"`, `"X11"`, `"Blake2b"`
- **Ограничения**: Максимум 50 символов, может быть NULL
- **Формат**: Название алгоритма майнинга

### 7. powerConsumption (String, до 50 символов, опциональное)
- **Тип**: Строка (VARCHAR(50))
- **Описание**: Потребляемая мощность
- **Пример**: `"3054W"`, `"3472W"`, `"2780W"`
- **Ограничения**: Максимум 50 символов, может быть NULL
- **Формат**: `"[число]W"` или `"[число] Вт"`
- **Примечание**: Указывать максимальную потребляемую мощность согласно спецификации

### 8. coins (TEXT, опциональное)
- **Тип**: Текст (TEXT в БД, неограниченная длина)
- **Описание**: Добываемые монеты
- **Пример**: `"BTC, BCH, BSV"`, `"LTC, DOGE"`, `"ZEC, ZEN"`
- **Ограничения**: Неограниченная длина, может быть NULL
- **Формат**: Список монет через запятую или слеш
- **Примечание**: Используй стандартные сокращения монет (BTC, LTC, ZEC и т.д.)

### 9. powerSource (String, до 100 символов, опциональное)
- **Тип**: Строка (VARCHAR(100))
- **Описание**: Тип источника питания
- **Пример**: `"Интегрированный"`, `"Внешний"`
- **Ограничения**: Максимум 100 символов, может быть NULL
- **Возможные значения**:
  - `"Интегрированный"` - блок питания встроен в устройство
  - `"Внешний"` - требуется отдельный блок питания

### 10. cooling (String, до 100 символов, опциональное)
- **Тип**: Строка (VARCHAR(100))
- **Описание**: Тип охлаждения
- **Пример**: `"Воздушное"`, `"Водяное"`, `"Гибридное"`
- **Ограничения**: Максимум 100 символов, может быть NULL
- **Возможные значения**:
  - `"Воздушное"` - воздушное охлаждение (большинство ASIC-майнеров)
  - `"Водяное"` - водяное охлаждение
  - `"Гибридное"` - комбинированное охлаждение

### 11. operatingTemperature (String, до 100 символов, опциональное)
- **Тип**: Строка (VARCHAR(100))
- **Описание**: Рабочая температура
- **Пример**: `"от 0 до 40°C"`, `"5-35°C"`
- **Ограничения**: Максимум 100 символов, может быть NULL
- **Формат**: `"от [мин] до [макс]°C"` или `"[мин]-[макс]°C"`

### 12. dimensions (String, до 200 символов, опциональное)
- **Тип**: Строка (VARCHAR(200))
- **Описание**: Габаритные размеры устройства
- **Пример**: `"370 x 195.5 x 290 мм"`, `"428 мм (Д) x 195 мм (Ш) x 290 мм (В)"`
- **Ограничения**: Максимум 200 символов, может быть NULL
- **Формат**: `"[длина] x [ширина] x [высота] мм"` или `"[длина] мм (Д) x [ширина] мм (Ш) x [высота] мм (В)"`
- **Примечание**: Все размеры должны быть в миллиметрах (мм)

### 13. noiseLevel (String, до 50 символов, опциональное)
- **Тип**: Строка (VARCHAR(50))
- **Описание**: Уровень шума
- **Пример**: `"75 дБ"`, `"~75 дБ"`
- **Ограничения**: Максимум 50 символов, может быть NULL
- **Формат**: `"[число] дБ"` или `"~[число] дБ"`
- **Примечание**: Уровень шума на расстоянии 1 метр от устройства

### 14. description (TEXT, опциональное)
- **Тип**: Текст (TEXT в БД, неограниченная длина)
- **Описание**: Основное описание устройства
- **Пример**: `"Antminer S19j PRO — это высокопроизводительный ASIC-майнер..."`
- **Ограничения**: Неограниченная длина, может быть NULL
- **Рекомендуемая длина**: 200-300 слов
- **Содержание**: 
  - Краткая информация о модели и производителе
  - Основное назначение устройства
  - Ключевые технические характеристики
  - Область применения и преимущества

### 15. features (TEXT, опциональное)
- **Тип**: Текст (TEXT в БД, неограниченная длина)
- **Описание**: Ключевые особенности и функции
- **Пример**: `"Высокая производительность 104 TH/s, энергоэффективность..."`
- **Ограничения**: Неограниченная длина, может быть NULL
- **Рекомендуемая длина**: 100-150 слов
- **Содержание**:
  - Технологические особенности устройства
  - Преимущества перед конкурентами
  - Особенности конструкции
  - Дополнительные функции

### 16. placementInfo (TEXT, опциональное)
- **Тип**: Текст (TEXT в БД, неограниченная длина)
- **Описание**: Рекомендации по размещению и эксплуатации
- **Пример**: `"Требуется хорошо вентилируемое помещение..."`
- **Ограничения**: Неограниченная длина, может быть NULL
- **Рекомендуемая длина**: 100-150 слов
- **Содержание**:
  - Требования к помещению (вентиляция, температура, влажность)
  - Рекомендации по размещению
  - Особенности эксплуатации
  - Требования к инфраструктуре

### 17. producerInfo (TEXT, опциональное)
- **Тип**: Текст (TEXT в БД, неограниченная длина)
- **Описание**: Информация о производителе и модели
- **Пример**: `"Bitmain — один из ведущих производителей..."`
- **Ограничения**: Неограниченная длина, может быть NULL
- **Рекомендуемая длина**: 100-150 слов
- **Содержание**:
  - Краткая информация о производителе
  - История и достижения производителя
  - Информация о конкретной модели
  - Позиционирование модели на рынке

---

## Поля, которые НЕ нужно заполнять

Следующие поля заполняются автоматически и не должны быть в JSON файле:

- `createdAt` - заполняется автоматически при создании записи
- `updatedAt` - заполняется автоматически при обновлении записи

---

## Пример полной записи

```json
{
  "id": 8,
  "standardName": "Antminer Z15 Pro",
  "manufacturer": "Bitmain",
  "series": "Z15",
  "hashrate": "840 kSol/s",
  "algorithm": "Equihash",
  "powerConsumption": "2780W",
  "coins": "ZEC, ZEN",
  "powerSource": "Интегрированный",
  "cooling": "Воздушное",
  "operatingTemperature": "от 0 до 40°C",
  "dimensions": "428 мм (Д) x 195 мм (Ш) x 290 мм (В)",
  "noiseLevel": "75 дБ",
  "description": "Antminer Z15 Pro — это высокопроизводительный ASIC-майнер от Bitmain для добычи криптовалют на алгоритме Equihash. Модель предназначена для майнинга Zcash (ZEC) и Horizen (ZEN) и отличается высокой производительностью 840 kSol/s при потребляемой мощности 2780W. Устройство использует чипы собственного производства Bitmain и обеспечивает оптимальное соотношение производительности и энергопотребления.",
  "features": "Высокая производительность 840 kSol/s, энергоэффективность 3,31 Дж/кСол, встроенный блок питания, автоматическая настройка частоты чипов, защита от перегрева и перегрузки, поддержка пула майнинга.",
  "placementInfo": "Требуется хорошо вентилируемое помещение с температурой от 0 до 40°C. Рекомендуется использование в майнинг-фермах с системой охлаждения. Уровень шума ~75 дБ, что требует звукоизоляции при установке в жилых помещениях. Требуется стабильное электропитание 220V.",
  "producerInfo": "Bitmain — один из ведущих производителей ASIC-майнеров. Компания известна своими высокопроизводительными решениями для добычи криптовалют. Antminer Z15 Pro является флагманской моделью серии Z15 для майнинга Equihash от Bitmain. Компания основана в 2013 году и является пионером в разработке специализированного оборудования для майнинга."
}
```

---

## Важные замечания

1. **Кодировка**: Все JSON файлы должны быть в кодировке **UTF-8**
2. **Валидность**: JSON должен быть валидным (проверь через JSON validator)
3. **Обязательные поля**: Только `id` и `standardName` обязательны, остальные опциональны
4. **NULL значения**: Если поле опциональное и значение неизвестно, можно либо не указывать ключ в JSON, либо использовать пустую строку `""`
5. **Размерность полей**: Соблюдай ограничения по длине строковых полей
6. **Формат текстов**: Все текстовые поля (description, features, placementInfo, producerInfo) должны быть на русском языке

---

## Процесс обновления

1. Получи данные от нейросети в формате JSON массива
2. Сохрани файл как `miner_details_update.json` в директории `InitDoc/`
3. Используй API endpoint `/api/init/miner-details/batch-update` (будет создан) или обновляй через существующие endpoints
4. Проверь результаты через `/api/init/miner-details/analyze-all`








