<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru" class="color-two">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title -->
    <title>Детали майнеров - Miners Shop</title>
    <!-- Favicon -->
    <link rel="shortcut icon" th:href="@{/assets/images/logo/favicon.png}" href="assets/images/logo/favicon.png">

    <!-- Bootstrap -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}" href="assets/css/bootstrap.min.css">
    <!-- select 2 -->
    <link rel="stylesheet" th:href="@{/assets/css/select2.min.css}" href="assets/css/select2.min.css">
    <!-- Slick -->
    <link rel="stylesheet" th:href="@{/assets/css/slick.css}" href="assets/css/slick.css">
    <!-- jQuery UI -->
    <link rel="stylesheet" th:href="@{/assets/css/jquery-ui.css}" href="assets/css/jquery-ui.css">
    <!-- Main css -->
    <link rel="stylesheet" th:href="@{/assets/css/main.css}" href="assets/css/main.css">
    <!-- Custom styles для таблицы -->
    <style>
        .miner-details-table {
            font-size: 0.875rem;
            border-collapse: collapse;
            width: 100%;
        }
        
        .miner-details-table thead th {
            background-color: #2c3e50;
            color: #ffffff;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.5px;
            padding: 10px 12px;
            border: 1px solid #34495e;
            white-space: nowrap;
        }
        
        .miner-details-table tbody td {
            padding: 8px 12px;
            border: 1px solid #e0e0e0;
            vertical-align: middle;
        }
        
        .miner-details-table tbody tr {
            transition: background-color 0.15s ease;
        }
        
        .miner-details-table tbody tr:nth-child(even) {
            background-color: #f8f9fa;
        }
        
        .miner-details-table tbody tr:nth-child(odd) {
            background-color: #ffffff;
        }
        
        .miner-details-table tbody tr:hover {
            background-color: #e8f4f8;
        }
    </style>
</head> 
<body>
    
<!--==================== Preloader Start ====================-->
  <div class="preloader">
    <img th:src="@{/assets/images/icon/preloader.gif}" src="assets/images/icon/preloader.gif" alt="">
  </div>
<!--==================== Preloader End ====================-->

<!--==================== Overlay Start ====================-->
<div class="overlay"></div>
<!--==================== Overlay End ====================-->

<!-- ==================== Header Start ==================== -->
<header class="header bg-white border-bottom border-gray-100">
    <div class="container container-lg">
        <nav class="header-inner d-flex justify-content-between gap-8">
            <!-- Menu Start  -->
            <div class="header-menu d-lg-block d-none flex-grow-1">
                <!-- Nav Menu Start -->
<ul class="nav-menu flex-align">
    <li class="nav-menu__item">
        <a th:href="@{/}" class="nav-menu__link">Главная</a>
    </li>
    <li class="nav-menu__item">
        <a th:href="@{/products}" class="nav-menu__link">Товары</a>
    </li>
    <li class="nav-menu__item">
        <a th:href="@{/products/table}" class="nav-menu__link">Таблица продуктов</a>
    </li>
    <li class="nav-menu__item">
        <a th:href="@{/miner-details}" class="nav-menu__link active">Детали майнеров</a>
    </li>
    <li class="nav-menu__item">
        <a th:href="@{/messages}" class="nav-menu__link">Сообщения</a>
    </li>
    <li class="nav-menu__item">
        <a th:href="@{/requests}" class="nav-menu__link">Заявки</a>
    </li>
</ul>
<!-- Nav Menu End -->
            </div>
        </nav>
    </div>
</header>
<!-- ==================== Header End ==================== -->

<!-- ==================== Main Content Start ==================== -->
<div class="container container-lg mt-40 mb-80">
    <div class="d-flex justify-content-between align-items-center mb-40">
        <h1 class="mb-0">Детали майнеров</h1>
        <div>
            <span class="text-gray-600" th:text="${minerDetails != null ? minerDetails.size() : 0} + ' записей'">0 записей</span>
        </div>
    </div>
    
    <!-- Фильтры (опционально, для будущего расширения) -->
    <div class="mb-24" th:if="${manufacturers != null && !manufacturers.isEmpty()}">
        <div class="row">
            <div class="col-md-4">
                <label class="form-label text-sm">Производитель:</label>
                <select id="manufacturerFilter" class="form-select form-select-sm">
                    <option value="">Все производители</option>
                    <option th:each="manufacturer : ${manufacturers}" 
                            th:value="${manufacturer}" 
                            th:text="${manufacturer}">
                    </option>
                </select>
            </div>
        </div>
    </div>
    
    <!-- Таблица с основными параметрами -->
    <div class="table-responsive">
        <table class="table miner-details-table">
            <thead>
                <tr>
                    <th>Название</th>
                    <th>Производитель</th>
                    <th>Хэшрейт</th>
                    <th>Алгоритм</th>
                    <th>Потребление</th>
                    <th class="text-center">Действия</th>
                </tr>
            </thead>
            <tbody>
                <!-- Пустое состояние -->
                <tr th:if="${minerDetails == null || minerDetails.isEmpty()}">
                    <td colspan="6" class="text-center py-40 text-gray-500">
                        Детальные записи майнеров отсутствуют
                    </td>
                </tr>
                
                <!-- Записи майнеров -->
                <tr th:each="detail : ${minerDetails}">
                    <!-- 1. Стандартизированное название -->
                    <td>
                        <a th:href="@{/miner-details/{id}(id=${detail.id})}" 
                           class="text-main-two-600 hover-text-main-two-700 fw-semibold"
                           th:text="${detail.standardName}">
                            Название
                        </a>
                    </td>
                    
                    <!-- 2. Производитель -->
                    <td th:text="${detail.manufacturer} ?: '-'">Производитель</td>
                    
                    <!-- 3. Хэшрейт -->
                    <td th:text="${detail.hashrate} ?: '-'">Хэшрейт</td>
                    
                    <!-- 4. Алгоритм -->
                    <td th:text="${detail.algorithm} ?: '-'">Алгоритм</td>
                    
                    <!-- 5. Потребление -->
                    <td th:text="${detail.powerConsumption} ?: '-'">Потребление</td>
                    
                    <!-- Действия -->
                    <td class="text-center">
                        <div class="d-flex gap-8 justify-content-center">
                            <a th:href="@{/miner-details/{id}(id=${detail.id})}" 
                               class="btn btn-sm btn-primary"
                               title="Просмотр">
                                <i class="ph ph-eye"></i>
                            </a>
                            <a th:href="@{/miner-details/{id}/edit(id=${detail.id})}" 
                               class="btn btn-sm btn-secondary"
                               title="Редактировать">
                                <i class="ph ph-pencil"></i>
                            </a>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<!-- ==================== Main Content End ==================== -->

<!-- ==================== Footer Start ==================== -->
<footer class="footer bg-color-one pt-80 pb-40">
    <div class="container container-lg">
        <div class="footer__inner">
            <div class="row gy-4">
                <div class="col-xl-3 col-md-6 col-sm-6">
                    <div class="footer__item">
                        <div class="footer__logo mb-24">
                            <a th:href="@{/}">
                                <img th:src="@{/assets/images/logo/logo.png}" src="assets/images/logo/logo.png" alt="Logo">
                            </a>
                        </div>
                        <p class="text-gray-600">Интернет-магазин майнеров с автоматическим обновлением ассортимента из WhatsApp</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- ==================== Footer End ==================== -->

<!-- jQuery js -->
<script th:src="@{/assets/js/jquery-3.7.1.min.js}" src="assets/js/jquery-3.7.1.min.js"></script>
<!-- Bootstrap Bundle Js -->
<script th:src="@{/assets/js/boostrap.bundle.min.js}" src="assets/js/boostrap.bundle.min.js"></script>
<!-- Phosphor Icons -->
<script th:src="@{/assets/js/phosphor-icon.js}" src="assets/js/phosphor-icon.js"></script>
<!-- Main js -->
<script th:src="@{/assets/js/main.js}" src="assets/js/main.js"></script>

</body>
</html>

